<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>productDetails</title>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' type='text/css'>
    <link rel="stylesheet" href="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="./productDetails.js"></script>
    <script src="http://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
    <script src="http://cdn.staticfile.org/jquery.qrcode/1.0/jquery.qrcode.min.js"></script>
    <script src="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script>
        window.onload = function () {
            if (getQueryVariable("type") == 1){
                document.getElementById("object-rent-info").style.display="inline";
                App.postObjectForRent(getQueryVariable("id"));
            }
            else if(getQueryVariable("type") == 0){
                App.checkSellValidAndShow(getQueryVariable("id"));
            }
        }
        function getQueryVariable(variable) {
            var query = window.location.search.substring(1);
            var vars = query.split("&");
            for (var i=0;i<vars.length;i++) {
                var pair = vars[i].split("=");
                if(pair[0] == variable){return pair[1];}
            }
            return false;
        }
    </script>
</head>
<body>
<!-- navigation bar -->
<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container max-width-960">
        <div class="navbar-header" style="float: left">
            <a href="./index.html"><img src="../img/logo.png" alt="logo" class="navbar-brand"></a>
        </div>
        <div style="float: left; margin-top: 15px">
            <button onclick="location='index.html'">index</button>
            <button onclick="location='market.html'">market</button>
        </div>
        <div style="float: right">
            <p id="account"></p>
            <p id="accountBalance"></p>
        </div>
    </div>
</nav>
<!-- Object for rent info -->
<div class="container max-width-960 margin-top" id="object-rent-info" style="display: none">
    <div class="container max-width-960" >
        <div class="panel-heading">
            <h3 class="panel-title">Object Info</h3>
        </div>
        <div class="panel-body">
            <ul class="list-group">
                <li class="list-group-item"><span id="objPhoto"></span></li>
                <li class="list-group-item">
                    <strong>ID:</strong> <span id="objID"></span>
                    <button class="btn btn-default" type="button" onclick="App.rentObj()" id="rentButton" style="float:right; display: none">Rent</button>
                    <button class="btn btn-default" type="button" onclick="App.returnObj()" id="returnButton" style="float:right">Return</button>
                </li>
                <li class="list-group-item"><strong>Name:</strong> <span id="objName"></span></li>
                <li class="list-group-item"><strong>Creator:</strong> <span id="objCreator"></span></li>
                <li class="list-group-item"><strong>PriceDaily:</strong> <span id="objPriceDaily"></span></li>
                <li class="list-group-item"><strong>Deposit:</strong> <span id="objDeposit"></span></li>
                <li class="list-group-item"><strong>RenterAddress:</strong> <span id="objRenterAddress"></span></li>
                <li class="list-group-item"><strong>RenterSince:</strong> <span id="objRenterSince"></span></li>
                <li class="list-group-item"><strong>Rented:</strong> <span id="objRented"></span></li>
                <li class="list-group-item"><strong>Detail:</strong> <span id="objDetail"></span></li>
            </ul>
        </div>
    </div>
</div>

<!-- Object for sell info -->
<div class="container max-width-960 margin-top" id="object-sell-info" style="display: none">
    <div class="container max-width-960" >
        <div class="panel-heading">
            <h3 class="panel-title">Object Info</h3>
        </div>
        <div class="panel-body">
            <ul class="list-group">
                <li class="list-group-item"><span id="_objPhoto"></span></li>
                <li class="list-group-item">
                    <strong>ID:</strong> <span id="_objID"></span>
                    <button type="button" class="btn btn-primary btn-success btn-buy" onclick="App.buyArticle(getQueryVariable('id')); return false;" id="buyButton"style="float: right; display: none">Buy</button>
                </li>
                <li class="list-group-item"><strong>Name:</strong> <span id="_objName"></span></li>
                <li class="list-group-item"><strong>Creator:</strong> <span id="_objCreator"></span></li>
                <li class="list-group-item"><strong>Price:</strong> <span id="_objPrice"></span></li>
                <li class="list-group-item"><strong>Detail:</strong> <span id="_objDetail"></span></li>
            </ul>
        </div>
    </div>
</div>

<!-- error -->
<div id="error" style="display: none">
    <center>
        <h1>illegal Access!</h1><br/>
        <h2>product have been sold</h2>
    </center>
</div>
</body>
</html>